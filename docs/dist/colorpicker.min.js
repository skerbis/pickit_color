/* Pickit Color v1.2.3, @license Donationware */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).colorpicker={})}(this,(function(t){"use strict";function e(t,e,o,n){return new(o||(o=Promise))((function(r,i){function s(t){try{l(n.next(t))}catch(t){i(t)}}function a(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(s,a)}l((n=n.apply(t,e||[])).next())}))}function o(t,e){var o,n,r,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(o=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{o=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}"function"==typeof SuppressedError&&SuppressedError;var n={hue:"Hue",saturation:"Saturation and Lightness",lightness:"Lightness",alpha:"Alpha",presets:"Preset colors",eyeDropper:"Pick color from screen",systemPicker:"System color picker"},r={hue:"Farbton",saturation:"Sättigung und Helligkeit",lightness:"Helligkeit",alpha:"Transparenz",presets:"Vordefinierte Farben",eyeDropper:"Farbe vom Bildschirm aufnehmen",systemPicker:"System-Farbwähler"},i={hue:"Odtenek",saturation:"Nasičenost in svetlost",lightness:"Svetlost",alpha:"Prosojnost",presets:"Prednastavljene barve",eyeDropper:"Izberi barvo z zaslona",systemPicker:"Sistemski izbirnik barv"},s=Object.freeze({__proto__:null,en:n,de:r,si:i}),a={en:n,de:r,si:i};function l(){var t=document.documentElement.lang;if(t){var e=t.split("-")[0].toLowerCase();if(a[e])return e}var o=navigator.language.split("-")[0].toLowerCase();return a[o]?o:"en"}var c=function(){function t(e,o){var n,r,i,s,c,u,p,h,d,v,f,g,y,m;if(void 0===o&&(o={}),this.container=null,this.colorBox=null,this.hueSlider=null,this.saturationSlider=null,this.lightnessSlider=null,this.alphaSlider=null,this.hexInput=null,this.currentColor={h:0,s:100,l:50,a:1},this.isOpen=!1,this.saturationPointer=null,this.compactButton=null,this.inputPreview=null,this.announceTimeout=null,this.input="string"==typeof e?document.querySelector(e):e,!this.input)throw new Error("ColorPicker: Invalid element selector");var b=this.input.getAttribute("data-preset-colors"),k=b?b.split(",").map((function(t){return t.trim()})):null;this.options={defaultColor:o.defaultColor||"#3b82f6",format:o.format||"hex",showAlpha:null!==(n=o.showAlpha)&&void 0!==n&&n,sliderMode:null!==(r=o.sliderMode)&&void 0!==r&&r,eyeDropper:null!==(i=o.eyeDropper)&&void 0!==i&&i,presetColors:o.presetColors||k||["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#000000","#ffffff"],presetLabels:o.presetLabels||[],presetsOnly:null!==(s=o.presetsOnly)&&void 0!==s&&s,listView:null!==(c=o.listView)&&void 0!==c&&c,inline:null!==(u=o.inline)&&void 0!==u&&u,compact:null!==(p=o.compact)&&void 0!==p&&p,inputPreview:null!==(h=o.inputPreview)&&void 0!==h&&h,previewTarget:o.previewTarget||"",previewProperty:o.previewProperty||"background-color",language:o.language||l(),onChange:o.onChange||function(){},onOpen:o.onOpen||function(){},onClose:o.onClose||function(){},appendTo:o.appendTo||document.body,position:o.position||"auto",closeOnSelect:null===(d=o.closeOnSelect)||void 0===d||d,ariaLabels:{hue:(null===(v=o.ariaLabels)||void 0===v?void 0:v.hue)||a[o.language||l()].hue,saturation:(null===(f=o.ariaLabels)||void 0===f?void 0:f.saturation)||a[o.language||l()].saturation,lightness:(null===(g=o.ariaLabels)||void 0===g?void 0:g.lightness)||a[o.language||l()].lightness,alpha:(null===(y=o.ariaLabels)||void 0===y?void 0:y.alpha)||a[o.language||l()].alpha,presets:(null===(m=o.ariaLabels)||void 0===m?void 0:m.presets)||a[o.language||l()].presets}},this.init(),t.instances.set(this.input,this)}return t.addTranslation=function(t,e){a[t.toLowerCase()]=e},t.getAvailableLanguages=function(){return Object.keys(a)},t.prototype.init=function(){var t=this.input.value||this.options.defaultColor;this.currentColor=this.parseColor(t),this.options.compact&&this.createCompactButton(),this.options.inputPreview&&!this.options.compact&&this.createInputPreview(),this.buildColorPicker(),this.setupEventListeners(),this.updateColorDisplay(),this.options.inline&&this.container&&(this.isOpen=!0,this.container.style.display="block",this.options.onOpen())},t.prototype.buildColorPicker=function(){var t,e=this;this.container=document.createElement("div"),this.container.className="colorpicker-container",this.options.presetsOnly&&this.container.classList.add("colorpicker-presets-only"),this.options.inline&&this.container.classList.add("colorpicker-inline"),this.container.setAttribute("role","dialog"),this.container.setAttribute("aria-label","Color picker"),this.container.style.display="none";var o='\n      <div class="colorpicker-content">\n        '.concat(this.options.presetsOnly?"":"\n        ".concat(this.options.sliderMode?"":'\n        <div class="colorpicker-saturation" \n             role="slider" \n             aria-label="'.concat(this.options.ariaLabels.saturation,'"\n             aria-valuemin="0"\n             aria-valuemax="100"\n             aria-valuenow="').concat(this.currentColor.s,'"\n             tabindex="0">\n          <div class="colorpicker-saturation-overlay"></div>\n          <div class="colorpicker-saturation-pointer" role="presentation"></div>\n        </div>\n        '),'\n        \n        <div class="colorpicker-controls">\n          <div class="colorpicker-sliders').concat(this.options.sliderMode?" colorpicker-sliders-only":"",'">\n            <div class="colorpicker-slider-group">\n              <label for="colorpicker-hue">\n                <span class="colorpicker-label">').concat(this.options.ariaLabels.hue,'</span>\n              </label>\n              <input \n                type="range" \n                id="colorpicker-hue"\n                class="colorpicker-slider colorpicker-hue-slider"\n                min="0" \n                max="360" \n                value="').concat(this.currentColor.h,'"\n                aria-label="').concat(this.options.ariaLabels.hue,'"\n                tabindex="0"\n              />\n            </div>\n            ').concat(this.options.sliderMode?'\n            <div class="colorpicker-slider-group">\n              <label for="colorpicker-saturation">\n                <span class="colorpicker-label">'.concat(this.options.ariaLabels.saturation,'</span>\n              </label>\n              <input \n                type="range" \n                id="colorpicker-saturation"\n                class="colorpicker-slider colorpicker-saturation-slider"\n                min="0" \n                max="100" \n                value="').concat(this.currentColor.s,'"\n                aria-label="').concat(this.options.ariaLabels.saturation,'"\n                tabindex="0"\n              />\n            </div>\n            <div class="colorpicker-slider-group">\n              <label for="colorpicker-lightness">\n                <span class="colorpicker-label">').concat(this.options.ariaLabels.lightness,'</span>\n              </label>\n              <input \n                type="range" \n                id="colorpicker-lightness"\n                class="colorpicker-slider colorpicker-lightness-slider"\n                min="0" \n                max="100" \n                value="').concat(this.currentColor.l,'"\n                aria-label="').concat(this.options.ariaLabels.lightness,'"\n                tabindex="0"\n              />\n            </div>\n            '):"","\n            ").concat(this.options.showAlpha?'\n              <div class="colorpicker-slider-group">\n                <label for="colorpicker-alpha">\n                  <span class="colorpicker-label">'.concat(this.options.ariaLabels.alpha,'</span>\n                </label>\n                <input \n                  type="range" \n                  id="colorpicker-alpha"\n                  class="colorpicker-slider colorpicker-alpha-slider"\n                  min="0" \n                  max="100" \n                  value="').concat(100*this.currentColor.a,'"\n                  aria-label="').concat(this.options.ariaLabels.alpha,'"\n                  tabindex="0"\n                />\n              </div>\n            '):"",'\n          </div>\n          \n          <div class="colorpicker-preview">\n            <div class="colorpicker-preview-color" role="presentation"></div>\n          </div>\n        </div>\n        \n        <div class="colorpicker-input-wrapper">\n          <label for="colorpicker-hex">\n            <span class="colorpicker-sr-only">Color value</span>\n          </label>\n          <div class="colorpicker-input-row">\n            <input \n              type="text" \n              id="colorpicker-hex"\n              class="colorpicker-input"\n              placeholder="').concat(this.getPlaceholder(),'"\n              aria-label="Color value in ').concat(this.options.format,' format"\n            />\n            ').concat(this.options.eyeDropper?"\n            ".concat(this.supportsEyeDropper()?'\n            <button \n              type="button"\n              class="colorpicker-eyedropper-btn"\n              aria-label="Pick color from screen"\n              title="Pick color from screen"\n            >\n              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                <path d="M2 22l1-1"/>\n                <path d="M8.5 16.5l-1-1"/>\n                <path d="M17 3l4 4"/>\n                <path d="M12 8l4 4"/>\n                <path d="M3 21l9-9"/>\n                <path d="M14.5 9.5l-1 1"/>\n                <path d="M20 14l-8 8"/>\n              </svg>\n            </button>\n            ':'\n            <button \n              type="button"\n              class="colorpicker-system-picker-btn"\n              aria-label="Open system color picker"\n              title="Open system color picker"\n            >\n              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                <circle cx="12" cy="12" r="10"/>\n                <path d="M12 2v20"/>\n                <path d="M2 12h20"/>\n                <circle cx="12" cy="12" r="3"/>\n              </svg>\n            </button>\n            <input \n              type="color"\n              class="colorpicker-system-picker-input"\n              style="position: absolute; opacity: 0; pointer-events: none; width: 0; height: 0;"\n            />\n            ',"\n            "):"","\n          </div>\n        </div>\n        "),"\n        \n        ").concat(this.options.presetColors.length>0?'\n          <div class="colorpicker-presets'.concat(this.options.listView?" colorpicker-presets-list":"",'" role="group" aria-label="').concat(this.options.ariaLabels.presets,'">\n            ').concat(this.options.presetColors.map((function(t,o){var n=e.options.presetLabels[o]||"";return e.options.listView&&n?'\n              <button \n                type="button"\n                class="colorpicker-preset colorpicker-preset-list-item" \n                data-color="'.concat(t,'"\n                aria-label="Select color ').concat(n,'"\n                tabindex="').concat(0===o?"0":"-1",'"\n              >\n                <span class="colorpicker-preset-color" style="background-color: ').concat(t,'"></span>\n                <span class="colorpicker-preset-label">').concat(n,"</span>\n              </button>\n            "):'\n              <button \n                type="button"\n                class="colorpicker-preset" \n                style="background-color: '.concat(t,'"\n                data-color="').concat(t,'"\n                aria-label="Select color ').concat(n||t,'"\n                tabindex="').concat(0===o?"0":"-1",'"\n              ></button>\n            ')})).join(""),"\n          </div>\n        "):"","\n      </div>\n    ");this.container.innerHTML=o,this.colorBox=this.container.querySelector(".colorpicker-saturation"),this.saturationPointer=this.container.querySelector(".colorpicker-saturation-pointer"),this.hueSlider=this.container.querySelector(".colorpicker-hue-slider"),this.saturationSlider=this.container.querySelector(".colorpicker-saturation-slider"),this.lightnessSlider=this.container.querySelector(".colorpicker-lightness-slider"),this.alphaSlider=this.container.querySelector(".colorpicker-alpha-slider"),this.hexInput=this.container.querySelector(".colorpicker-input"),this.options.inline?(null===(t=this.input.parentNode)||void 0===t||t.insertBefore(this.container,this.input.nextSibling),this.input.style.display="none"):this.options.appendTo.appendChild(this.container)},t.prototype.createCompactButton=function(){var t,e=this;this.input.style.position="absolute",this.input.style.opacity="0",this.input.style.pointerEvents="none",this.input.style.width="0",this.input.style.height="0",this.compactButton=document.createElement("button"),this.compactButton.type="button",this.compactButton.className="colorpicker-compact-button",this.compactButton.setAttribute("aria-label","Select color"),this.compactButton.tabIndex=0;var o=document.createElement("span");o.className="colorpicker-compact-preview",o.style.backgroundColor=this.input.value||this.options.defaultColor,this.compactButton.appendChild(o),null===(t=this.input.parentNode)||void 0===t||t.insertBefore(this.compactButton,this.input.nextSibling),this.compactButton.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})),this.compactButton.addEventListener("keydown",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),t.stopPropagation(),e.toggle())}))},t.prototype.createInputPreview=function(){var t,e=document.createElement("div");e.className="colorpicker-input-group",this.inputPreview=document.createElement("span"),this.inputPreview.className="colorpicker-input-preview",this.inputPreview.style.backgroundColor=this.input.value||this.options.defaultColor,null===(t=this.input.parentNode)||void 0===t||t.insertBefore(e,this.input),e.appendChild(this.inputPreview),e.appendChild(this.input),this.input.classList.add("colorpicker-has-preview")},t.prototype.supportsEyeDropper=function(){return"undefined"!=typeof window&&"EyeDropper"in window},t.prototype.openEyeDropper=function(){return e(this,void 0,Promise,(function(){var t,e;return o(this,(function(o){switch(o.label){case 0:if(!this.supportsEyeDropper())return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(new EyeDropper).open()];case 2:return(t=o.sent()).sRGBHex&&(this.currentColor=this.parseColor(t.sRGBHex),this.input.value=t.sRGBHex,this.updateColorDisplay(),this.options.onChange(t.sRGBHex)),[3,4];case 3:return"AbortError"!==(e=o.sent()).name&&console.error("EyeDropper error:",e),[3,4];case 4:return[2]}}))}))},t.prototype.setupEventListeners=function(){var t,n,r,i,s=this;this.options.compact||(this.input.addEventListener("click",(function(){s.options.inline||s.toggle()})),this.input.addEventListener("keydown",(function(t){"Enter"!==t.key&&" "!==t.key||s.options.inline||(t.preventDefault(),s.toggle())}))),this.input.addEventListener("change",(function(){s.currentColor=s.parseColor(s.input.value),s.updateColorDisplay()})),this.hueSlider&&(this.hueSlider.addEventListener("input",(function(t){s.currentColor.h=parseInt(t.target.value),s.updateColorDisplay(),s.announceColorChange()})),this.hueSlider.addEventListener("touchstart",(function(t){s.handleSliderTouch(t,s.hueSlider,"h",0,360)}))),this.saturationSlider&&(this.saturationSlider.addEventListener("input",(function(t){s.currentColor.s=parseInt(t.target.value),s.updateColorDisplay(),s.announceColorChange()})),this.saturationSlider.addEventListener("touchstart",(function(t){s.handleSliderTouch(t,s.saturationSlider,"s",0,100)}))),this.lightnessSlider&&(this.lightnessSlider.addEventListener("input",(function(t){s.currentColor.l=parseInt(t.target.value),s.updateColorDisplay(),s.announceColorChange()})),this.lightnessSlider.addEventListener("touchstart",(function(t){s.handleSliderTouch(t,s.lightnessSlider,"l",0,100)}))),this.alphaSlider&&(this.alphaSlider.addEventListener("input",(function(t){s.currentColor.a=parseInt(t.target.value)/100,s.updateColorDisplay(),s.announceColorChange()})),this.alphaSlider.addEventListener("touchstart",(function(t){s.handleSliderTouch(t,s.alphaSlider,"a",0,100,!0)}))),this.colorBox&&(this.colorBox.addEventListener("mousedown",(function(t){return s.onSaturationMouseDown(t)})),this.colorBox.addEventListener("touchstart",(function(t){return s.onSaturationTouchStart(t)})),this.colorBox.addEventListener("keydown",(function(t){return s.onSaturationKeyDown(t)}))),this.hexInput&&this.hexInput.addEventListener("input",(function(t){var e=t.target.value.trim();s.isValidColor(e)&&(s.currentColor=s.parseColor(e),s.updateColorDisplay(!1))}));var a=null===(t=this.container)||void 0===t?void 0:t.querySelectorAll(".colorpicker-preset");a&&a.length>0&&a.forEach((function(t,e){t.addEventListener("click",(function(t){var e=t.currentTarget.dataset.color;s.currentColor=s.parseColor(e),s.updateColorDisplay(),s.options.closeOnSelect&&s.close()})),t.addEventListener("keydown",(function(t){var o=t.key,n=!1,r=e;switch(o){case"ArrowRight":case"ArrowDown":r=Math.min(a.length-1,e+1),n=!0;break;case"ArrowLeft":case"ArrowUp":r=Math.max(0,e-1),n=!0;break;case"Home":r=0,n=!0;break;case"End":r=a.length-1,n=!0;break;case"Enter":case" ":var i=t.currentTarget.dataset.color;s.currentColor=s.parseColor(i),s.updateColorDisplay(),s.options.closeOnSelect&&s.close(),n=!0}n&&(t.preventDefault(),r!==e&&(a.forEach((function(t,e){t.setAttribute("tabindex",e===r?"0":"-1")})),a[r].focus()))}))}));var l=null===(n=this.container)||void 0===n?void 0:n.querySelector(".colorpicker-eyedropper-btn");l&&l.addEventListener("click",(function(t){return e(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return t.preventDefault(),t.stopPropagation(),[4,this.openEyeDropper()];case 1:return e.sent(),[2]}}))}))}));var c=null===(r=this.container)||void 0===r?void 0:r.querySelector(".colorpicker-system-picker-btn"),u=null===(i=this.container)||void 0===i?void 0:i.querySelector(".colorpicker-system-picker-input");c&&u&&(u.value=this.formatColor(this.currentColor).substring(0,7),c.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),u.click()})),u.addEventListener("change",(function(){var t=u.value;s.currentColor=s.parseColor(t),s.input.value=t,s.updateColorDisplay(),s.options.onChange(t)}))),this.options.inline||document.addEventListener("mousedown",(function(t){var e;s.isOpen&&!(null===(e=s.container)||void 0===e?void 0:e.contains(t.target))&&t.target!==s.input&&s.close()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&s.isOpen&&!s.options.inline&&(s.close(),s.input.focus())}))},t.prototype.onSaturationMouseDown=function(t){var e=this;t.preventDefault(),this.updateSaturationFromMouse(t);var o=function(t){e.updateSaturationFromMouse(t)},n=function(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",n)},t.prototype.onSaturationTouchStart=function(t){var e=this;t.preventDefault();var o=t.touches[0];this.updateSaturationFromTouch(o);var n=function(t){t.preventDefault();var o=t.touches[0];e.updateSaturationFromTouch(o)},r=function(){document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r)};document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",r)},t.prototype.updateSaturationFromTouch=function(t){if(this.colorBox){var e=this.colorBox.getBoundingClientRect(),o=Math.max(0,Math.min(t.clientX-e.left,e.width)),n=Math.max(0,Math.min(t.clientY-e.top,e.height)),r=o/e.width*100,i=100-n/e.height*100,s={h:this.currentColor.h,s:r,v:i,a:this.currentColor.a};this.currentColor=this.hsvToHsl(s),this.updateColorDisplay(),this.announceColorChange()}},t.prototype.handleSliderTouch=function(t,e,o,n,r,i){var s=this;void 0===i&&(i=!1);var a=function(t){var a=e.getBoundingClientRect(),l=Math.max(0,Math.min(t.clientX-a.left,a.width))/a.width,c=n+l*(r-n);s.currentColor[o]=i?c/100:Math.round(c),e.value=String(Math.round(c)),s.updateColorDisplay(),s.announceColorChange()},l=t.touches[0];a(l);var c=function(t){t.preventDefault();var e=t.touches[0];a(e)},u=function(){document.removeEventListener("touchmove",c),document.removeEventListener("touchend",u)};document.addEventListener("touchmove",c,{passive:!1}),document.addEventListener("touchend",u)},t.prototype.updateSaturationFromMouse=function(t){if(this.colorBox){var e=this.colorBox.getBoundingClientRect(),o=Math.max(0,Math.min(t.clientX-e.left,e.width)),n=Math.max(0,Math.min(t.clientY-e.top,e.height)),r=o/e.width*100,i=100-n/e.height*100,s={h:this.currentColor.h,s:r,v:i,a:this.currentColor.a};this.currentColor=this.hsvToHsl(s),this.updateColorDisplay(),this.announceColorChange()}},t.prototype.onSaturationKeyDown=function(t){var e=t.shiftKey?10:1,o=!1,n=this.hslToHsv(this.currentColor);switch(t.key){case"ArrowRight":n.s=Math.min(100,n.s+e),o=!0;break;case"ArrowLeft":n.s=Math.max(0,n.s-e),o=!0;break;case"ArrowUp":n.v=Math.min(100,n.v+e),o=!0;break;case"ArrowDown":n.v=Math.max(0,n.v-e),o=!0}o&&(t.preventDefault(),this.currentColor=this.hsvToHsl(n),this.updateColorDisplay(),this.announceColorChange())},t.prototype.updateColorDisplay=function(t){var e;if(void 0===t&&(t=!0),this.colorBox&&(this.colorBox.style.backgroundColor="hsl(".concat(this.currentColor.h,", 100%, 50%)")),this.saturationPointer&&this.colorBox){var o=this.hslToHsv(this.currentColor),n=o.s,r=100-o.v;this.saturationPointer.style.left="".concat(n,"%"),this.saturationPointer.style.top="".concat(r,"%")}this.saturationSlider&&(this.saturationSlider.style.background="linear-gradient(to right, hsl(".concat(this.currentColor.h,", 0%, 50%), hsl(").concat(this.currentColor.h,", 100%, 50%))")),this.lightnessSlider&&(this.lightnessSlider.style.background="linear-gradient(to right, hsl(".concat(this.currentColor.h,", ").concat(this.currentColor.s,"%, 0%), hsl(").concat(this.currentColor.h,", ").concat(this.currentColor.s,"%, 50%), hsl(").concat(this.currentColor.h,", ").concat(this.currentColor.s,"%, 100%))"));var i=null===(e=this.container)||void 0===e?void 0:e.querySelector(".colorpicker-preview-color");if(i&&(i.style.backgroundColor=this.toHSLString(this.currentColor)),this.hexInput&&t&&(this.hexInput.value=this.formatColor(this.currentColor)),this.hueSlider&&(this.hueSlider.value=String(this.currentColor.h)),this.saturationSlider&&(this.saturationSlider.value=String(this.currentColor.s)),this.lightnessSlider&&(this.lightnessSlider.value=String(this.currentColor.l)),this.alphaSlider&&(this.alphaSlider.value=String(100*this.currentColor.a)),t){if(this.input.value=this.formatColor(this.currentColor),this.options.onChange(this.input.value),this.options.previewTarget){var s=document.querySelector(this.options.previewTarget);if(s){var a=this.options.previewProperty||"background-color";s.style.setProperty(a,this.input.value)}}if(this.compactButton){var l=this.compactButton.querySelector(".colorpicker-compact-preview");l&&(l.style.backgroundColor=this.toHSLString(this.currentColor))}this.inputPreview&&(this.inputPreview.style.backgroundColor=this.toHSLString(this.currentColor))}},t.prototype.formatColor=function(t){switch(this.options.format){case"hsl":return this.toHSLString(t);case"rgb":return this.toRGBString(this.hslToRgb(t));case"hex":default:return this.toHex(t)}},t.prototype.getPlaceholder=function(){switch(this.options.format){case"hsl":return this.options.showAlpha?"hsla(0, 0%, 0%, 1)":"hsl(0, 0%, 0%)";case"rgb":return this.options.showAlpha?"rgba(0, 0, 0, 1)":"rgb(0, 0, 0)";case"hex":default:return"#000000"}},t.prototype.parseColor=function(t){if((t=t.trim()).startsWith("#"))return this.hexToHsl(t);var e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(e){var o={r:parseInt(e[1]),g:parseInt(e[2]),b:parseInt(e[3]),a:e[4]?parseFloat(e[4]):1};return this.rgbToHsl(o)}var n=t.match(/hsla?\((\d+),\s*(\d+)%,\s*(\d+)%(?:,\s*([\d.]+))?\)/);return n?{h:parseInt(n[1]),s:parseInt(n[2]),l:parseInt(n[3]),a:n[4]?parseFloat(n[4]):1}:this.currentColor},t.prototype.hexToHsl=function(t){t=t.replace("#","");var e=parseInt(t.substring(0,2),16)/255,o=parseInt(t.substring(2,4),16)/255,n=parseInt(t.substring(4,6),16)/255,r=8===t.length?parseInt(t.substring(6,8),16)/255:1;return this.rgbToHsl({r:255*e,g:255*o,b:255*n,a:r})},t.prototype.rgbToHsl=function(t){var e=t.r/255,o=t.g/255,n=t.b/255,r=Math.max(e,o,n),i=Math.min(e,o,n),s=0,a=0,l=(r+i)/2;if(r!==i){var c=r-i;switch(a=l>.5?c/(2-r-i):c/(r+i),r){case e:s=((o-n)/c+(o<n?6:0))/6;break;case o:s=((n-e)/c+2)/6;break;case n:s=((e-o)/c+4)/6}}return{h:Math.round(360*s),s:Math.round(100*a),l:Math.round(100*l),a:t.a}},t.prototype.hslToRgb=function(t){var e,o,n,r=t.h/360,i=t.s/100,s=t.l/100;if(0===i)e=o=n=s;else{var a=function(t,e,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?t+6*(e-t)*o:o<.5?e:o<2/3?t+(e-t)*(2/3-o)*6:t},l=s<.5?s*(1+i):s+i-s*i,c=2*s-l;e=a(c,l,r+1/3),o=a(c,l,r),n=a(c,l,r-1/3)}return{r:Math.round(255*e),g:Math.round(255*o),b:Math.round(255*n),a:t.a}},t.prototype.hsvToHsl=function(t){var e=t.h,o=t.s/100,n=t.v/100,r=t.a,i=n*(1-o/2);return{h:e,s:100*(0===i||1===i?0:(n-i)/Math.min(i,1-i)),l:100*i,a:r}},t.prototype.hslToHsv=function(t){var e=t.h,o=t.s/100,n=t.l/100,r=t.a,i=n+o*Math.min(n,1-n);return{h:e,s:100*(0===i?0:2*(1-n/i)),v:100*i,a:r}},t.prototype.toHex=function(t){var e=this.hslToRgb(t),o=function(t){return t.toString(16).padStart(2,"0")};if(this.options.showAlpha&&t.a<1){var n=Math.round(255*t.a);return"#".concat(o(e.r)).concat(o(e.g)).concat(o(e.b)).concat(o(n))}return"#".concat(o(e.r)).concat(o(e.g)).concat(o(e.b))},t.prototype.toHSLString=function(t){return this.options.showAlpha&&t.a<1?"hsla(".concat(t.h,", ").concat(t.s,"%, ").concat(t.l,"%, ").concat(t.a,")"):"hsl(".concat(t.h,", ").concat(t.s,"%, ").concat(t.l,"%)")},t.prototype.toRGBString=function(t){return this.options.showAlpha&&t.a<1?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")},t.prototype.isValidHex=function(t){return/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/.test(t)},t.prototype.isValidColor=function(t){return!!this.isValidHex(t)||(!!/^rgba?\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*(,\s*[\d.]+\s*)?\)$/.test(t)||!!/^hsla?\(\s*\d+\s*,\s*\d+%\s*,\s*\d+%\s*(,\s*[\d.]+\s*)?\)$/.test(t))},t.prototype.announceColorChange=function(){var t=this;this.announceTimeout||(this.announceTimeout=setTimeout((function(){var e,o=document.createElement("div");o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.className="colorpicker-sr-only",o.textContent="Color changed to ".concat(t.formatColor(t.currentColor)),null===(e=t.container)||void 0===e||e.appendChild(o),setTimeout((function(){return o.remove()}),1e3),t.announceTimeout=null}),500))},t.prototype.open=function(){var t=this;!this.isOpen&&this.container&&(this.isOpen=!0,this.container.style.display="block",this.options.inline||this.positionPicker(),this.options.onOpen(),this.options.inline||setTimeout((function(){var e,o=null;(o=t.options.presetsOnly?null===(e=t.container)||void 0===e?void 0:e.querySelector(".colorpicker-preset"):t.options.sliderMode?t.hueSlider:t.colorBox)&&o.focus()}),0))},t.prototype.close=function(){this.isOpen&&this.container&&(this.isOpen=!1,this.options.inline||(this.container.style.display="none"),this.options.onClose())},t.prototype.toggle=function(){this.isOpen?this.close():this.open()},t.prototype.positionPicker=function(){if(this.container){var t=this.input.getBoundingClientRect(),e=this.container.getBoundingClientRect(),o=window.innerHeight,n=t.bottom+window.scrollY+4,r=t.left+window.scrollX;if("auto"===this.options.position){var i=o-t.bottom,s=t.top;i<e.height&&s>i&&(n=t.top+window.scrollY-e.height-4)}else"above"===this.options.position&&(n=t.top+window.scrollY-e.height-4);this.container.style.position="absolute",this.container.style.top="".concat(n,"px"),this.container.style.left="".concat(r,"px"),this.container.style.zIndex="9999"}},t.prototype.setColor=function(t){this.currentColor=this.parseColor(t),this.updateColorDisplay()},t.prototype.getColor=function(){return this.formatColor(this.currentColor)},t.prototype.destroy=function(){var e,o,n;if(null===(e=this.container)||void 0===e||e.remove(),null===(o=this.compactButton)||void 0===o||o.remove(),this.options.compact&&this.input&&(this.input.style.position="",this.input.style.opacity="",this.input.style.pointerEvents="",this.input.style.width="",this.input.style.height=""),this.options.inputPreview&&this.input){this.input.classList.remove("colorpicker-has-preview");var r=this.input.parentElement;r&&r.classList.contains("colorpicker-input-group")&&(null===(n=r.parentNode)||void 0===n||n.insertBefore(this.input,r),r.remove())}t.instances.delete(this.input)},t.getInstance=function(e){return t.instances.get(e)},t.instances=new Map,t}();function u(t){void 0===t&&(t=document);var e=[];return t.querySelectorAll('[data-colorpicker], .colorpicker, input[type="color"][data-format]').forEach((function(t){if(!c.getInstance(t)){var o=t.dataset,n={};if(o.colorpicker)o.colorpicker.split(/[,;]/).forEach((function(t){var e=t.split(":").map((function(t){return t.trim()})),o=e[0],r=e[1];switch(o){case"format":"hex"!==r&&"rgb"!==r&&"hsl"!==r||(n.format=r);break;case"alpha":case"showAlpha":n.showAlpha="true"===r||"1"===r;break;case"compact":n.compact="true"===r||"1"===r;break;case"inline":n.inline="true"===r||"1"===r;break;case"presets":n.presetsOnly="true"===r||"1"===r;break;case"list":n.listView="true"===r||"1"===r;break;case"sliderMode":n.sliderMode="true"===r||"1"===r;break;case"eyeDropper":n.eyeDropper="true"===r||"1"===r;break;case"inputPreview":n.inputPreview="true"===r||"1"===r;break;case"target":case"previewTarget":n.previewTarget=r;break;case"property":case"previewProperty":n.previewProperty=r;break;case"lang":case"language":n.language=r}}));!o.format||"hex"!==o.format&&"rgb"!==o.format&&"hsl"!==o.format||(n.format=o.format),void 0!==o.alpha&&(n.showAlpha="true"===o.alpha||"1"===o.alpha),void 0!==o.compact&&(n.compact="true"===o.compact||"1"===o.compact),void 0!==o.inline&&(n.inline="true"===o.inline||"1"===o.inline),void 0!==o.presetsOnly&&(n.presetsOnly="true"===o.presetsOnly||"1"===o.presetsOnly),void 0!==o.listView&&(n.listView="true"===o.listView||"1"===o.listView),o.defaultColor&&(n.defaultColor=o.defaultColor);var r=new c(t,n);e.push(r)}})),e}"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){return u()})):u()),t.ColorPicker=c,t.default=function(t,e){return new c(t,e)},t.initColorPickers=u,t.languages=s,Object.defineProperty(t,"__esModule",{value:!0})}));